{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _classCallCheck = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar RuntimeGlobals = require(\"../RuntimeGlobals\");\nvar RuntimeModule = require(\"../RuntimeModule\");\nvar Template = require(\"../Template\");\n\n/** @typedef {import(\"./RemoteModule\")} RemoteModule */\nvar RemoteRuntimeModule = /*#__PURE__*/function (_RuntimeModule) {\n  _inherits(RemoteRuntimeModule, _RuntimeModule);\n  var _super = _createSuper(RemoteRuntimeModule);\n  function RemoteRuntimeModule() {\n    _classCallCheck(this, RemoteRuntimeModule);\n    return _super.call(this, \"remotes loading\");\n  }\n\n  /**\n   * @returns {string} runtime code\n   */\n  _createClass(RemoteRuntimeModule, [{\n    key: \"generate\",\n    value: function generate() {\n      var compilation = this.compilation,\n        chunkGraph = this.chunkGraph;\n      var runtimeTemplate = compilation.runtimeTemplate,\n        moduleGraph = compilation.moduleGraph;\n      var chunkToRemotesMapping = {};\n      var idToExternalAndNameMapping = {};\n      var _iterator = _createForOfIteratorHelper(this.chunk.getAllAsyncChunks()),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var chunk = _step.value;\n          var modules = chunkGraph.getChunkModulesIterableBySourceType(chunk, \"remote\");\n          if (!modules) continue;\n          var remotes = chunkToRemotesMapping[chunk.id] = [];\n          var _iterator2 = _createForOfIteratorHelper(modules),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var m = _step2.value;\n              var _module = /** @type {RemoteModule} */m;\n              var name = _module.internalRequest;\n              var id = chunkGraph.getModuleId(_module);\n              var shareScope = _module.shareScope;\n              var dep = _module.dependencies[0];\n              var externalModule = moduleGraph.getModule(dep);\n              var externalModuleId = externalModule && chunkGraph.getModuleId(externalModule);\n              remotes.push(id);\n              idToExternalAndNameMapping[id] = [shareScope, name, externalModuleId];\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return Template.asString([\"var chunkMapping = \".concat(JSON.stringify(chunkToRemotesMapping, null, \"\\t\"), \";\"), \"var idToExternalAndNameMapping = \".concat(JSON.stringify(idToExternalAndNameMapping, null, \"\\t\"), \";\"), \"\".concat(RuntimeGlobals.ensureChunkHandlers, \".remotes = \").concat(runtimeTemplate.basicFunction(\"chunkId, promises\", [\"if(\".concat(RuntimeGlobals.hasOwnProperty, \"(chunkMapping, chunkId)) {\"), Template.indent([\"chunkMapping[chunkId].forEach(\".concat(runtimeTemplate.basicFunction(\"id\", [\"var getScope = \".concat(RuntimeGlobals.currentRemoteGetScope, \";\"), \"if(!getScope) getScope = [];\", \"var data = idToExternalAndNameMapping[id];\", \"if(getScope.indexOf(data) >= 0) return;\", \"getScope.push(data);\", \"if(data.p) return promises.push(data.p);\", \"var onError = \".concat(runtimeTemplate.basicFunction(\"error\", ['if(!error) error = new Error(\"Container missing\");', 'if(typeof error.message === \"string\")', Template.indent(\"error.message += '\\\\nwhile loading \\\"' + data[1] + '\\\" from ' + data[2];\"), \"\".concat(RuntimeGlobals.moduleFactories, \"[id] = \").concat(runtimeTemplate.basicFunction(\"\", [\"throw error;\"])), \"data.p = 0;\"]), \";\"), \"var handleFunction = \".concat(runtimeTemplate.basicFunction(\"fn, arg1, arg2, d, next, first\", [\"try {\", Template.indent([\"var promise = fn(arg1, arg2);\", \"if(promise && promise.then) {\", Template.indent([\"var p = promise.then(\".concat(runtimeTemplate.returningFunction(\"next(result, d)\", \"result\"), \", onError);\"), \"if(first) promises.push(data.p = p); else return p;\"]), \"} else {\", Template.indent([\"return next(promise, d, first);\"]), \"}\"]), \"} catch(error) {\", Template.indent([\"onError(error);\"]), \"}\"])), \"var onExternal = \".concat(runtimeTemplate.returningFunction(\"external ? handleFunction(\".concat(RuntimeGlobals.initializeSharing, \", data[0], 0, external, onInitialized, first) : onError()\"), \"external, _, first\"), \";\"), \"var onInitialized = \".concat(runtimeTemplate.returningFunction(\"handleFunction(external.get, data[1], getScope, 0, onFactory, first)\", \"_, external, first\"), \";\"), \"var onFactory = \".concat(runtimeTemplate.basicFunction(\"factory\", [\"data.p = 1;\", \"\".concat(RuntimeGlobals.moduleFactories, \"[id] = \").concat(runtimeTemplate.basicFunction(\"module\", [\"module.exports = factory();\"]))]), \";\"), \"handleFunction(__webpack_require__, data[2], 0, 0, onExternal, 1);\"]), \");\")]), \"}\"]))]);\n    }\n  }]);\n  return RemoteRuntimeModule;\n}(RuntimeModule);\nmodule.exports = RemoteRuntimeModule;","map":{"version":3,"names":["RuntimeGlobals","require","RuntimeModule","Template","RemoteRuntimeModule","compilation","chunkGraph","runtimeTemplate","moduleGraph","chunkToRemotesMapping","idToExternalAndNameMapping","chunk","getAllAsyncChunks","modules","getChunkModulesIterableBySourceType","remotes","id","m","module","name","internalRequest","getModuleId","shareScope","dep","dependencies","externalModule","getModule","externalModuleId","push","asString","JSON","stringify","ensureChunkHandlers","basicFunction","hasOwnProperty","indent","currentRemoteGetScope","moduleFactories","returningFunction","initializeSharing","exports"],"sources":["/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/webpack/lib/container/RemoteRuntimeModule.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst RuntimeModule = require(\"../RuntimeModule\");\nconst Template = require(\"../Template\");\n\n/** @typedef {import(\"./RemoteModule\")} RemoteModule */\n\nclass RemoteRuntimeModule extends RuntimeModule {\n\tconstructor() {\n\t\tsuper(\"remotes loading\");\n\t}\n\n\t/**\n\t * @returns {string} runtime code\n\t */\n\tgenerate() {\n\t\tconst { compilation, chunkGraph } = this;\n\t\tconst { runtimeTemplate, moduleGraph } = compilation;\n\t\tconst chunkToRemotesMapping = {};\n\t\tconst idToExternalAndNameMapping = {};\n\t\tfor (const chunk of this.chunk.getAllAsyncChunks()) {\n\t\t\tconst modules = chunkGraph.getChunkModulesIterableBySourceType(\n\t\t\t\tchunk,\n\t\t\t\t\"remote\"\n\t\t\t);\n\t\t\tif (!modules) continue;\n\t\t\tconst remotes = (chunkToRemotesMapping[chunk.id] = []);\n\t\t\tfor (const m of modules) {\n\t\t\t\tconst module = /** @type {RemoteModule} */ (m);\n\t\t\t\tconst name = module.internalRequest;\n\t\t\t\tconst id = chunkGraph.getModuleId(module);\n\t\t\t\tconst shareScope = module.shareScope;\n\t\t\t\tconst dep = module.dependencies[0];\n\t\t\t\tconst externalModule = moduleGraph.getModule(dep);\n\t\t\t\tconst externalModuleId =\n\t\t\t\t\texternalModule && chunkGraph.getModuleId(externalModule);\n\t\t\t\tremotes.push(id);\n\t\t\t\tidToExternalAndNameMapping[id] = [shareScope, name, externalModuleId];\n\t\t\t}\n\t\t}\n\t\treturn Template.asString([\n\t\t\t`var chunkMapping = ${JSON.stringify(\n\t\t\t\tchunkToRemotesMapping,\n\t\t\t\tnull,\n\t\t\t\t\"\\t\"\n\t\t\t)};`,\n\t\t\t`var idToExternalAndNameMapping = ${JSON.stringify(\n\t\t\t\tidToExternalAndNameMapping,\n\t\t\t\tnull,\n\t\t\t\t\"\\t\"\n\t\t\t)};`,\n\t\t\t`${\n\t\t\t\tRuntimeGlobals.ensureChunkHandlers\n\t\t\t}.remotes = ${runtimeTemplate.basicFunction(\"chunkId, promises\", [\n\t\t\t\t`if(${RuntimeGlobals.hasOwnProperty}(chunkMapping, chunkId)) {`,\n\t\t\t\tTemplate.indent([\n\t\t\t\t\t`chunkMapping[chunkId].forEach(${runtimeTemplate.basicFunction(\"id\", [\n\t\t\t\t\t\t`var getScope = ${RuntimeGlobals.currentRemoteGetScope};`,\n\t\t\t\t\t\t\"if(!getScope) getScope = [];\",\n\t\t\t\t\t\t\"var data = idToExternalAndNameMapping[id];\",\n\t\t\t\t\t\t\"if(getScope.indexOf(data) >= 0) return;\",\n\t\t\t\t\t\t\"getScope.push(data);\",\n\t\t\t\t\t\t`if(data.p) return promises.push(data.p);`,\n\t\t\t\t\t\t`var onError = ${runtimeTemplate.basicFunction(\"error\", [\n\t\t\t\t\t\t\t'if(!error) error = new Error(\"Container missing\");',\n\t\t\t\t\t\t\t'if(typeof error.message === \"string\")',\n\t\t\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t\t\t`error.message += '\\\\nwhile loading \"' + data[1] + '\" from ' + data[2];`\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\tRuntimeGlobals.moduleFactories\n\t\t\t\t\t\t\t}[id] = ${runtimeTemplate.basicFunction(\"\", [\"throw error;\"])}`,\n\t\t\t\t\t\t\t\"data.p = 0;\"\n\t\t\t\t\t\t])};`,\n\t\t\t\t\t\t`var handleFunction = ${runtimeTemplate.basicFunction(\n\t\t\t\t\t\t\t\"fn, arg1, arg2, d, next, first\",\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"try {\",\n\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\"var promise = fn(arg1, arg2);\",\n\t\t\t\t\t\t\t\t\t\"if(promise && promise.then) {\",\n\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t`var p = promise.then(${runtimeTemplate.returningFunction(\n\t\t\t\t\t\t\t\t\t\t\t\"next(result, d)\",\n\t\t\t\t\t\t\t\t\t\t\t\"result\"\n\t\t\t\t\t\t\t\t\t\t)}, onError);`,\n\t\t\t\t\t\t\t\t\t\t`if(first) promises.push(data.p = p); else return p;`\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\"} else {\",\n\t\t\t\t\t\t\t\t\tTemplate.indent([\"return next(promise, d, first);\"]),\n\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\"} catch(error) {\",\n\t\t\t\t\t\t\t\tTemplate.indent([\"onError(error);\"]),\n\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t`var onExternal = ${runtimeTemplate.returningFunction(\n\t\t\t\t\t\t\t`external ? handleFunction(${RuntimeGlobals.initializeSharing}, data[0], 0, external, onInitialized, first) : onError()`,\n\t\t\t\t\t\t\t\"external, _, first\"\n\t\t\t\t\t\t)};`,\n\t\t\t\t\t\t`var onInitialized = ${runtimeTemplate.returningFunction(\n\t\t\t\t\t\t\t`handleFunction(external.get, data[1], getScope, 0, onFactory, first)`,\n\t\t\t\t\t\t\t\"_, external, first\"\n\t\t\t\t\t\t)};`,\n\t\t\t\t\t\t`var onFactory = ${runtimeTemplate.basicFunction(\"factory\", [\n\t\t\t\t\t\t\t\"data.p = 1;\",\n\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\tRuntimeGlobals.moduleFactories\n\t\t\t\t\t\t\t}[id] = ${runtimeTemplate.basicFunction(\"module\", [\n\t\t\t\t\t\t\t\t\"module.exports = factory();\"\n\t\t\t\t\t\t\t])}`\n\t\t\t\t\t\t])};`,\n\t\t\t\t\t\t\"handleFunction(__webpack_require__, data[2], 0, 0, onExternal, 1);\"\n\t\t\t\t\t])});`\n\t\t\t\t]),\n\t\t\t\t\"}\"\n\t\t\t])}`\n\t\t]);\n\t}\n}\n\nmodule.exports = RemoteRuntimeModule;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}