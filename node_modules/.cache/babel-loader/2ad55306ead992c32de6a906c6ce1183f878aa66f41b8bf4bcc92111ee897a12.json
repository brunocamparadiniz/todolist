{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\nvar _createForOfIteratorHelper = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _slicedToArray = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _objectSpread = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _classCallCheck = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar asyncLib = require(\"neo-async\");\nvar _require = require(\"tapable\"),\n  AsyncSeriesWaterfallHook = _require.AsyncSeriesWaterfallHook,\n  SyncWaterfallHook = _require.SyncWaterfallHook;\nvar ContextModule = require(\"./ContextModule\");\nvar ModuleFactory = require(\"./ModuleFactory\");\nvar ContextElementDependency = require(\"./dependencies/ContextElementDependency\");\nvar LazySet = require(\"./util/LazySet\");\nvar _require2 = require(\"./util/cleverMerge\"),\n  cachedSetProperty = _require2.cachedSetProperty;\nvar _require3 = require(\"./util/deprecation\"),\n  createFakeHook = _require3.createFakeHook;\nvar _require4 = require(\"./util/fs\"),\n  join = _require4.join;\n\n/** @typedef {import(\"./ContextModule\").ContextModuleOptions} ContextModuleOptions */\n/** @typedef {import(\"./ContextModule\").ResolveDependenciesCallback} ResolveDependenciesCallback */\n/** @typedef {import(\"./Module\")} Module */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryCreateData} ModuleFactoryCreateData */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryResult} ModuleFactoryResult */\n/** @typedef {import(\"./ResolverFactory\")} ResolverFactory */\n/** @typedef {import(\"./dependencies/ContextDependency\")} ContextDependency */\n/** @template T @typedef {import(\"./util/deprecation\").FakeHook<T>} FakeHook<T> */\n/** @typedef {import(\"./util/fs\").InputFileSystem} InputFileSystem */\n\nvar EMPTY_RESOLVE_OPTIONS = {};\nmodule.exports = /*#__PURE__*/function (_ModuleFactory) {\n  _inherits(ContextModuleFactory, _ModuleFactory);\n  var _super = _createSuper(ContextModuleFactory);\n  /**\n   * @param {ResolverFactory} resolverFactory resolverFactory\n   */\n  function ContextModuleFactory(resolverFactory) {\n    var _this;\n    _classCallCheck(this, ContextModuleFactory);\n    _this = _super.call(this);\n    /** @type {AsyncSeriesWaterfallHook<[TODO[], ContextModuleOptions]>} */\n    var alternativeRequests = new AsyncSeriesWaterfallHook([\"modules\", \"options\"]);\n    _this.hooks = Object.freeze({\n      /** @type {AsyncSeriesWaterfallHook<[TODO]>} */\n      beforeResolve: new AsyncSeriesWaterfallHook([\"data\"]),\n      /** @type {AsyncSeriesWaterfallHook<[TODO]>} */\n      afterResolve: new AsyncSeriesWaterfallHook([\"data\"]),\n      /** @type {SyncWaterfallHook<[string[]]>} */\n      contextModuleFiles: new SyncWaterfallHook([\"files\"]),\n      /** @type {FakeHook<Pick<AsyncSeriesWaterfallHook<[TODO[]]>, \"tap\" | \"tapAsync\" | \"tapPromise\" | \"name\">>} */\n      alternatives: createFakeHook({\n        name: \"alternatives\",\n        /** @type {AsyncSeriesWaterfallHook<[TODO[]]>[\"intercept\"]} */\n        intercept: function intercept(interceptor) {\n          throw new Error(\"Intercepting fake hook ContextModuleFactory.hooks.alternatives is not possible, use ContextModuleFactory.hooks.alternativeRequests instead\");\n        },\n        /** @type {AsyncSeriesWaterfallHook<[TODO[]]>[\"tap\"]} */\n        tap: function tap(options, fn) {\n          alternativeRequests.tap(options, fn);\n        },\n        /** @type {AsyncSeriesWaterfallHook<[TODO[]]>[\"tapAsync\"]} */\n        tapAsync: function tapAsync(options, fn) {\n          alternativeRequests.tapAsync(options, function (items, _options, callback) {\n            return fn(items, callback);\n          });\n        },\n        /** @type {AsyncSeriesWaterfallHook<[TODO[]]>[\"tapPromise\"]} */\n        tapPromise: function tapPromise(options, fn) {\n          alternativeRequests.tapPromise(options, fn);\n        }\n      }, \"ContextModuleFactory.hooks.alternatives has deprecated in favor of ContextModuleFactory.hooks.alternativeRequests with an additional options argument.\", \"DEP_WEBPACK_CONTEXT_MODULE_FACTORY_ALTERNATIVES\"),\n      alternativeRequests: alternativeRequests\n    });\n    _this.resolverFactory = resolverFactory;\n    return _this;\n  }\n\n  /**\n   * @param {ModuleFactoryCreateData} data data object\n   * @param {function(Error=, ModuleFactoryResult=): void} callback callback\n   * @returns {void}\n   */\n  _createClass(ContextModuleFactory, [{\n    key: \"create\",\n    value: function create(data, callback) {\n      var _this2 = this;\n      var context = data.context;\n      var dependencies = data.dependencies;\n      var resolveOptions = data.resolveOptions;\n      var dependency = /** @type {ContextDependency} */dependencies[0];\n      var fileDependencies = new LazySet();\n      var missingDependencies = new LazySet();\n      var contextDependencies = new LazySet();\n      this.hooks.beforeResolve.callAsync(_objectSpread({\n        context: context,\n        dependencies: dependencies,\n        resolveOptions: resolveOptions,\n        fileDependencies: fileDependencies,\n        missingDependencies: missingDependencies,\n        contextDependencies: contextDependencies\n      }, dependency.options), function (err, beforeResolveResult) {\n        if (err) {\n          return callback(err, {\n            fileDependencies: fileDependencies,\n            missingDependencies: missingDependencies,\n            contextDependencies: contextDependencies\n          });\n        }\n\n        // Ignored\n        if (!beforeResolveResult) {\n          return callback(null, {\n            fileDependencies: fileDependencies,\n            missingDependencies: missingDependencies,\n            contextDependencies: contextDependencies\n          });\n        }\n        var context = beforeResolveResult.context;\n        var request = beforeResolveResult.request;\n        var resolveOptions = beforeResolveResult.resolveOptions;\n        var loaders,\n          resource,\n          loadersPrefix = \"\";\n        var idx = request.lastIndexOf(\"!\");\n        if (idx >= 0) {\n          var loadersRequest = request.slice(0, idx + 1);\n          var i;\n          for (i = 0; i < loadersRequest.length && loadersRequest[i] === \"!\"; i++) {\n            loadersPrefix += \"!\";\n          }\n          loadersRequest = loadersRequest.slice(i).replace(/!+$/, \"\").replace(/!!+/g, \"!\");\n          if (loadersRequest === \"\") {\n            loaders = [];\n          } else {\n            loaders = loadersRequest.split(\"!\");\n          }\n          resource = request.slice(idx + 1);\n        } else {\n          loaders = [];\n          resource = request;\n        }\n        var contextResolver = _this2.resolverFactory.get(\"context\", dependencies.length > 0 ? cachedSetProperty(resolveOptions || EMPTY_RESOLVE_OPTIONS, \"dependencyType\", dependencies[0].category) : resolveOptions);\n        var loaderResolver = _this2.resolverFactory.get(\"loader\");\n        asyncLib.parallel([function (callback) {\n          var results = [];\n          var yield_ = function yield_(obj) {\n            return results.push(obj);\n          };\n          contextResolver.resolve({}, context, resource, {\n            fileDependencies: fileDependencies,\n            missingDependencies: missingDependencies,\n            contextDependencies: contextDependencies,\n            yield: yield_\n          }, function (err) {\n            if (err) return callback(err);\n            callback(null, results);\n          });\n        }, function (callback) {\n          asyncLib.map(loaders, function (loader, callback) {\n            loaderResolver.resolve({}, context, loader, {\n              fileDependencies: fileDependencies,\n              missingDependencies: missingDependencies,\n              contextDependencies: contextDependencies\n            }, function (err, result) {\n              if (err) return callback(err);\n              callback(null, result);\n            });\n          }, callback);\n        }], function (err, result) {\n          if (err) {\n            return callback(err, {\n              fileDependencies: fileDependencies,\n              missingDependencies: missingDependencies,\n              contextDependencies: contextDependencies\n            });\n          }\n          var _result = _slicedToArray(result, 2),\n            contextResult = _result[0],\n            loaderResult = _result[1];\n          if (contextResult.length > 1) {\n            var first = contextResult[0];\n            contextResult = contextResult.filter(function (r) {\n              return r.path;\n            });\n            if (contextResult.length === 0) contextResult.push(first);\n          }\n          _this2.hooks.afterResolve.callAsync(_objectSpread({\n            addon: loadersPrefix + loaderResult.join(\"!\") + (loaderResult.length > 0 ? \"!\" : \"\"),\n            resource: contextResult.length > 1 ? contextResult.map(function (r) {\n              return r.path;\n            }) : contextResult[0].path,\n            resolveDependencies: _this2.resolveDependencies.bind(_this2),\n            resourceQuery: contextResult[0].query,\n            resourceFragment: contextResult[0].fragment\n          }, beforeResolveResult), function (err, result) {\n            if (err) {\n              return callback(err, {\n                fileDependencies: fileDependencies,\n                missingDependencies: missingDependencies,\n                contextDependencies: contextDependencies\n              });\n            }\n\n            // Ignored\n            if (!result) {\n              return callback(null, {\n                fileDependencies: fileDependencies,\n                missingDependencies: missingDependencies,\n                contextDependencies: contextDependencies\n              });\n            }\n            return callback(null, {\n              module: new ContextModule(result.resolveDependencies, result),\n              fileDependencies: fileDependencies,\n              missingDependencies: missingDependencies,\n              contextDependencies: contextDependencies\n            });\n          });\n        });\n      });\n    }\n\n    /**\n     * @param {InputFileSystem} fs file system\n     * @param {ContextModuleOptions} options options\n     * @param {ResolveDependenciesCallback} callback callback function\n     * @returns {void}\n     */\n  }, {\n    key: \"resolveDependencies\",\n    value: function resolveDependencies(fs, options, callback) {\n      var _this3 = this;\n      var cmf = this;\n      var resource = options.resource,\n        resourceQuery = options.resourceQuery,\n        resourceFragment = options.resourceFragment,\n        recursive = options.recursive,\n        regExp = options.regExp,\n        include = options.include,\n        exclude = options.exclude,\n        referencedExports = options.referencedExports,\n        category = options.category,\n        typePrefix = options.typePrefix;\n      if (!regExp || !resource) return callback(null, []);\n      var addDirectoryChecked = function addDirectoryChecked(ctx, directory, visited, callback) {\n        fs.realpath(directory, function (err, realPath) {\n          if (err) return callback(err);\n          if (visited.has(realPath)) return callback(null, []);\n          var recursionStack;\n          addDirectory(ctx, directory, function (_, dir, callback) {\n            if (recursionStack === undefined) {\n              recursionStack = new Set(visited);\n              recursionStack.add(realPath);\n            }\n            addDirectoryChecked(ctx, dir, recursionStack, callback);\n          }, callback);\n        });\n      };\n      var addDirectory = function addDirectory(ctx, directory, addSubDirectory, callback) {\n        fs.readdir(directory, function (err, files) {\n          if (err) return callback(err);\n          var processedFiles = cmf.hooks.contextModuleFiles.call( /** @type {string[]} */files.map(function (file) {\n            return file.normalize(\"NFC\");\n          }));\n          if (!processedFiles || processedFiles.length === 0) return callback(null, []);\n          asyncLib.map(processedFiles.filter(function (p) {\n            return p.indexOf(\".\") !== 0;\n          }), function (segment, callback) {\n            var subResource = join(fs, directory, segment);\n            if (!exclude || !subResource.match(exclude)) {\n              fs.stat(subResource, function (err, stat) {\n                if (err) {\n                  if (err.code === \"ENOENT\") {\n                    // ENOENT is ok here because the file may have been deleted between\n                    // the readdir and stat calls.\n                    return callback();\n                  } else {\n                    return callback(err);\n                  }\n                }\n                if (stat.isDirectory()) {\n                  if (!recursive) return callback();\n                  addSubDirectory(ctx, subResource, callback);\n                } else if (stat.isFile() && (!include || subResource.match(include))) {\n                  var obj = {\n                    context: ctx,\n                    request: \".\" + subResource.slice(ctx.length).replace(/\\\\/g, \"/\")\n                  };\n                  _this3.hooks.alternativeRequests.callAsync([obj], options, function (err, alternatives) {\n                    if (err) return callback(err);\n                    alternatives = alternatives.filter(function (obj) {\n                      return regExp.test(obj.request);\n                    }).map(function (obj) {\n                      var dep = new ContextElementDependency(\"\".concat(obj.request).concat(resourceQuery).concat(resourceFragment), obj.request, typePrefix, category, referencedExports, obj.context);\n                      dep.optional = true;\n                      return dep;\n                    });\n                    callback(null, alternatives);\n                  });\n                } else {\n                  callback();\n                }\n              });\n            } else {\n              callback();\n            }\n          }, function (err, result) {\n            if (err) return callback(err);\n            if (!result) return callback(null, []);\n            var flattenedResult = [];\n            var _iterator = _createForOfIteratorHelper(result),\n              _step;\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var item = _step.value;\n                if (item) flattenedResult.push.apply(flattenedResult, _toConsumableArray(item));\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n            callback(null, flattenedResult);\n          });\n        });\n      };\n      var addSubDirectory = function addSubDirectory(ctx, dir, callback) {\n        return addDirectory(ctx, dir, addSubDirectory, callback);\n      };\n      var visitResource = function visitResource(resource, callback) {\n        if (typeof fs.realpath === \"function\") {\n          addDirectoryChecked(resource, resource, new Set(), callback);\n        } else {\n          addDirectory(resource, resource, addSubDirectory, callback);\n        }\n      };\n      if (typeof resource === \"string\") {\n        visitResource(resource, callback);\n      } else {\n        asyncLib.map(resource, visitResource, function (err, result) {\n          if (err) return callback(err);\n\n          // result dependencies should have unique userRequest\n          // ordered by resolve result\n          var temp = new Set();\n          var res = [];\n          for (var i = 0; i < result.length; i++) {\n            var inner = result[i];\n            var _iterator2 = _createForOfIteratorHelper(inner),\n              _step2;\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var el = _step2.value;\n                if (temp.has(el.userRequest)) continue;\n                res.push(el);\n                temp.add(el.userRequest);\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n          }\n          callback(null, res);\n        });\n      }\n    }\n  }]);\n  return ContextModuleFactory;\n}(ModuleFactory);","map":{"version":3,"names":["asyncLib","require","AsyncSeriesWaterfallHook","SyncWaterfallHook","ContextModule","ModuleFactory","ContextElementDependency","LazySet","cachedSetProperty","createFakeHook","join","EMPTY_RESOLVE_OPTIONS","module","exports","resolverFactory","alternativeRequests","hooks","Object","freeze","beforeResolve","afterResolve","contextModuleFiles","alternatives","name","intercept","interceptor","Error","tap","options","fn","tapAsync","items","_options","callback","tapPromise","data","context","dependencies","resolveOptions","dependency","fileDependencies","missingDependencies","contextDependencies","callAsync","err","beforeResolveResult","request","loaders","resource","loadersPrefix","idx","lastIndexOf","loadersRequest","slice","i","length","replace","split","contextResolver","get","category","loaderResolver","parallel","results","yield_","obj","push","resolve","yield","map","loader","result","contextResult","loaderResult","first","filter","r","path","addon","resolveDependencies","bind","resourceQuery","query","resourceFragment","fragment","fs","cmf","recursive","regExp","include","exclude","referencedExports","typePrefix","addDirectoryChecked","ctx","directory","visited","realpath","realPath","has","recursionStack","addDirectory","_","dir","undefined","Set","add","addSubDirectory","readdir","files","processedFiles","call","file","normalize","p","indexOf","segment","subResource","match","stat","code","isDirectory","isFile","test","dep","optional","flattenedResult","item","visitResource","temp","res","inner","el","userRequest"],"sources":["/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/webpack/lib/ContextModuleFactory.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst asyncLib = require(\"neo-async\");\nconst { AsyncSeriesWaterfallHook, SyncWaterfallHook } = require(\"tapable\");\nconst ContextModule = require(\"./ContextModule\");\nconst ModuleFactory = require(\"./ModuleFactory\");\nconst ContextElementDependency = require(\"./dependencies/ContextElementDependency\");\nconst LazySet = require(\"./util/LazySet\");\nconst { cachedSetProperty } = require(\"./util/cleverMerge\");\nconst { createFakeHook } = require(\"./util/deprecation\");\nconst { join } = require(\"./util/fs\");\n\n/** @typedef {import(\"./ContextModule\").ContextModuleOptions} ContextModuleOptions */\n/** @typedef {import(\"./ContextModule\").ResolveDependenciesCallback} ResolveDependenciesCallback */\n/** @typedef {import(\"./Module\")} Module */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryCreateData} ModuleFactoryCreateData */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryResult} ModuleFactoryResult */\n/** @typedef {import(\"./ResolverFactory\")} ResolverFactory */\n/** @typedef {import(\"./dependencies/ContextDependency\")} ContextDependency */\n/** @template T @typedef {import(\"./util/deprecation\").FakeHook<T>} FakeHook<T> */\n/** @typedef {import(\"./util/fs\").InputFileSystem} InputFileSystem */\n\nconst EMPTY_RESOLVE_OPTIONS = {};\n\nmodule.exports = class ContextModuleFactory extends ModuleFactory {\n\t/**\n\t * @param {ResolverFactory} resolverFactory resolverFactory\n\t */\n\tconstructor(resolverFactory) {\n\t\tsuper();\n\t\t/** @type {AsyncSeriesWaterfallHook<[TODO[], ContextModuleOptions]>} */\n\t\tconst alternativeRequests = new AsyncSeriesWaterfallHook([\n\t\t\t\"modules\",\n\t\t\t\"options\"\n\t\t]);\n\t\tthis.hooks = Object.freeze({\n\t\t\t/** @type {AsyncSeriesWaterfallHook<[TODO]>} */\n\t\t\tbeforeResolve: new AsyncSeriesWaterfallHook([\"data\"]),\n\t\t\t/** @type {AsyncSeriesWaterfallHook<[TODO]>} */\n\t\t\tafterResolve: new AsyncSeriesWaterfallHook([\"data\"]),\n\t\t\t/** @type {SyncWaterfallHook<[string[]]>} */\n\t\t\tcontextModuleFiles: new SyncWaterfallHook([\"files\"]),\n\t\t\t/** @type {FakeHook<Pick<AsyncSeriesWaterfallHook<[TODO[]]>, \"tap\" | \"tapAsync\" | \"tapPromise\" | \"name\">>} */\n\t\t\talternatives: createFakeHook(\n\t\t\t\t{\n\t\t\t\t\tname: \"alternatives\",\n\t\t\t\t\t/** @type {AsyncSeriesWaterfallHook<[TODO[]]>[\"intercept\"]} */\n\t\t\t\t\tintercept: interceptor => {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\"Intercepting fake hook ContextModuleFactory.hooks.alternatives is not possible, use ContextModuleFactory.hooks.alternativeRequests instead\"\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\t/** @type {AsyncSeriesWaterfallHook<[TODO[]]>[\"tap\"]} */\n\t\t\t\t\ttap: (options, fn) => {\n\t\t\t\t\t\talternativeRequests.tap(options, fn);\n\t\t\t\t\t},\n\t\t\t\t\t/** @type {AsyncSeriesWaterfallHook<[TODO[]]>[\"tapAsync\"]} */\n\t\t\t\t\ttapAsync: (options, fn) => {\n\t\t\t\t\t\talternativeRequests.tapAsync(options, (items, _options, callback) =>\n\t\t\t\t\t\t\tfn(items, callback)\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\t/** @type {AsyncSeriesWaterfallHook<[TODO[]]>[\"tapPromise\"]} */\n\t\t\t\t\ttapPromise: (options, fn) => {\n\t\t\t\t\t\talternativeRequests.tapPromise(options, fn);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"ContextModuleFactory.hooks.alternatives has deprecated in favor of ContextModuleFactory.hooks.alternativeRequests with an additional options argument.\",\n\t\t\t\t\"DEP_WEBPACK_CONTEXT_MODULE_FACTORY_ALTERNATIVES\"\n\t\t\t),\n\t\t\talternativeRequests\n\t\t});\n\t\tthis.resolverFactory = resolverFactory;\n\t}\n\n\t/**\n\t * @param {ModuleFactoryCreateData} data data object\n\t * @param {function(Error=, ModuleFactoryResult=): void} callback callback\n\t * @returns {void}\n\t */\n\tcreate(data, callback) {\n\t\tconst context = data.context;\n\t\tconst dependencies = data.dependencies;\n\t\tconst resolveOptions = data.resolveOptions;\n\t\tconst dependency = /** @type {ContextDependency} */ (dependencies[0]);\n\t\tconst fileDependencies = new LazySet();\n\t\tconst missingDependencies = new LazySet();\n\t\tconst contextDependencies = new LazySet();\n\t\tthis.hooks.beforeResolve.callAsync(\n\t\t\t{\n\t\t\t\tcontext: context,\n\t\t\t\tdependencies: dependencies,\n\t\t\t\tresolveOptions,\n\t\t\t\tfileDependencies,\n\t\t\t\tmissingDependencies,\n\t\t\t\tcontextDependencies,\n\t\t\t\t...dependency.options\n\t\t\t},\n\t\t\t(err, beforeResolveResult) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback(err, {\n\t\t\t\t\t\tfileDependencies,\n\t\t\t\t\t\tmissingDependencies,\n\t\t\t\t\t\tcontextDependencies\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Ignored\n\t\t\t\tif (!beforeResolveResult) {\n\t\t\t\t\treturn callback(null, {\n\t\t\t\t\t\tfileDependencies,\n\t\t\t\t\t\tmissingDependencies,\n\t\t\t\t\t\tcontextDependencies\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tconst context = beforeResolveResult.context;\n\t\t\t\tconst request = beforeResolveResult.request;\n\t\t\t\tconst resolveOptions = beforeResolveResult.resolveOptions;\n\n\t\t\t\tlet loaders,\n\t\t\t\t\tresource,\n\t\t\t\t\tloadersPrefix = \"\";\n\t\t\t\tconst idx = request.lastIndexOf(\"!\");\n\t\t\t\tif (idx >= 0) {\n\t\t\t\t\tlet loadersRequest = request.slice(0, idx + 1);\n\t\t\t\t\tlet i;\n\t\t\t\t\tfor (\n\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\ti < loadersRequest.length && loadersRequest[i] === \"!\";\n\t\t\t\t\t\ti++\n\t\t\t\t\t) {\n\t\t\t\t\t\tloadersPrefix += \"!\";\n\t\t\t\t\t}\n\t\t\t\t\tloadersRequest = loadersRequest\n\t\t\t\t\t\t.slice(i)\n\t\t\t\t\t\t.replace(/!+$/, \"\")\n\t\t\t\t\t\t.replace(/!!+/g, \"!\");\n\t\t\t\t\tif (loadersRequest === \"\") {\n\t\t\t\t\t\tloaders = [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tloaders = loadersRequest.split(\"!\");\n\t\t\t\t\t}\n\t\t\t\t\tresource = request.slice(idx + 1);\n\t\t\t\t} else {\n\t\t\t\t\tloaders = [];\n\t\t\t\t\tresource = request;\n\t\t\t\t}\n\n\t\t\t\tconst contextResolver = this.resolverFactory.get(\n\t\t\t\t\t\"context\",\n\t\t\t\t\tdependencies.length > 0\n\t\t\t\t\t\t? cachedSetProperty(\n\t\t\t\t\t\t\t\tresolveOptions || EMPTY_RESOLVE_OPTIONS,\n\t\t\t\t\t\t\t\t\"dependencyType\",\n\t\t\t\t\t\t\t\tdependencies[0].category\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: resolveOptions\n\t\t\t\t);\n\t\t\t\tconst loaderResolver = this.resolverFactory.get(\"loader\");\n\n\t\t\t\tasyncLib.parallel(\n\t\t\t\t\t[\n\t\t\t\t\t\tcallback => {\n\t\t\t\t\t\t\tconst results = [];\n\t\t\t\t\t\t\tconst yield_ = obj => results.push(obj);\n\n\t\t\t\t\t\t\tcontextResolver.resolve(\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\tresource,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfileDependencies,\n\t\t\t\t\t\t\t\t\tmissingDependencies,\n\t\t\t\t\t\t\t\t\tcontextDependencies,\n\t\t\t\t\t\t\t\t\tyield: yield_\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terr => {\n\t\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\t\tcallback(null, results);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcallback => {\n\t\t\t\t\t\t\tasyncLib.map(\n\t\t\t\t\t\t\t\tloaders,\n\t\t\t\t\t\t\t\t(loader, callback) => {\n\t\t\t\t\t\t\t\t\tloaderResolver.resolve(\n\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\t\t\tloader,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfileDependencies,\n\t\t\t\t\t\t\t\t\t\t\tmissingDependencies,\n\t\t\t\t\t\t\t\t\t\t\tcontextDependencies\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\t\t\t\tcallback(null, result);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcallback\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\treturn callback(err, {\n\t\t\t\t\t\t\t\tfileDependencies,\n\t\t\t\t\t\t\t\tmissingDependencies,\n\t\t\t\t\t\t\t\tcontextDependencies\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet [contextResult, loaderResult] = result;\n\t\t\t\t\t\tif (contextResult.length > 1) {\n\t\t\t\t\t\t\tconst first = contextResult[0];\n\t\t\t\t\t\t\tcontextResult = contextResult.filter(r => r.path);\n\t\t\t\t\t\t\tif (contextResult.length === 0) contextResult.push(first);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.hooks.afterResolve.callAsync(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taddon:\n\t\t\t\t\t\t\t\t\tloadersPrefix +\n\t\t\t\t\t\t\t\t\tloaderResult.join(\"!\") +\n\t\t\t\t\t\t\t\t\t(loaderResult.length > 0 ? \"!\" : \"\"),\n\t\t\t\t\t\t\t\tresource:\n\t\t\t\t\t\t\t\t\tcontextResult.length > 1\n\t\t\t\t\t\t\t\t\t\t? contextResult.map(r => r.path)\n\t\t\t\t\t\t\t\t\t\t: contextResult[0].path,\n\t\t\t\t\t\t\t\tresolveDependencies: this.resolveDependencies.bind(this),\n\t\t\t\t\t\t\t\tresourceQuery: contextResult[0].query,\n\t\t\t\t\t\t\t\tresourceFragment: contextResult[0].fragment,\n\t\t\t\t\t\t\t\t...beforeResolveResult\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\t\treturn callback(err, {\n\t\t\t\t\t\t\t\t\t\tfileDependencies,\n\t\t\t\t\t\t\t\t\t\tmissingDependencies,\n\t\t\t\t\t\t\t\t\t\tcontextDependencies\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Ignored\n\t\t\t\t\t\t\t\tif (!result) {\n\t\t\t\t\t\t\t\t\treturn callback(null, {\n\t\t\t\t\t\t\t\t\t\tfileDependencies,\n\t\t\t\t\t\t\t\t\t\tmissingDependencies,\n\t\t\t\t\t\t\t\t\t\tcontextDependencies\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn callback(null, {\n\t\t\t\t\t\t\t\t\tmodule: new ContextModule(result.resolveDependencies, result),\n\t\t\t\t\t\t\t\t\tfileDependencies,\n\t\t\t\t\t\t\t\t\tmissingDependencies,\n\t\t\t\t\t\t\t\t\tcontextDependencies\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * @param {InputFileSystem} fs file system\n\t * @param {ContextModuleOptions} options options\n\t * @param {ResolveDependenciesCallback} callback callback function\n\t * @returns {void}\n\t */\n\tresolveDependencies(fs, options, callback) {\n\t\tconst cmf = this;\n\t\tconst {\n\t\t\tresource,\n\t\t\tresourceQuery,\n\t\t\tresourceFragment,\n\t\t\trecursive,\n\t\t\tregExp,\n\t\t\tinclude,\n\t\t\texclude,\n\t\t\treferencedExports,\n\t\t\tcategory,\n\t\t\ttypePrefix\n\t\t} = options;\n\t\tif (!regExp || !resource) return callback(null, []);\n\n\t\tconst addDirectoryChecked = (ctx, directory, visited, callback) => {\n\t\t\tfs.realpath(directory, (err, realPath) => {\n\t\t\t\tif (err) return callback(err);\n\t\t\t\tif (visited.has(realPath)) return callback(null, []);\n\t\t\t\tlet recursionStack;\n\t\t\t\taddDirectory(\n\t\t\t\t\tctx,\n\t\t\t\t\tdirectory,\n\t\t\t\t\t(_, dir, callback) => {\n\t\t\t\t\t\tif (recursionStack === undefined) {\n\t\t\t\t\t\t\trecursionStack = new Set(visited);\n\t\t\t\t\t\t\trecursionStack.add(realPath);\n\t\t\t\t\t\t}\n\t\t\t\t\t\taddDirectoryChecked(ctx, dir, recursionStack, callback);\n\t\t\t\t\t},\n\t\t\t\t\tcallback\n\t\t\t\t);\n\t\t\t});\n\t\t};\n\n\t\tconst addDirectory = (ctx, directory, addSubDirectory, callback) => {\n\t\t\tfs.readdir(directory, (err, files) => {\n\t\t\t\tif (err) return callback(err);\n\t\t\t\tconst processedFiles = cmf.hooks.contextModuleFiles.call(\n\t\t\t\t\t/** @type {string[]} */ (files).map(file => file.normalize(\"NFC\"))\n\t\t\t\t);\n\t\t\t\tif (!processedFiles || processedFiles.length === 0)\n\t\t\t\t\treturn callback(null, []);\n\t\t\t\tasyncLib.map(\n\t\t\t\t\tprocessedFiles.filter(p => p.indexOf(\".\") !== 0),\n\t\t\t\t\t(segment, callback) => {\n\t\t\t\t\t\tconst subResource = join(fs, directory, segment);\n\n\t\t\t\t\t\tif (!exclude || !subResource.match(exclude)) {\n\t\t\t\t\t\t\tfs.stat(subResource, (err, stat) => {\n\t\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\t\tif (err.code === \"ENOENT\") {\n\t\t\t\t\t\t\t\t\t\t// ENOENT is ok here because the file may have been deleted between\n\t\t\t\t\t\t\t\t\t\t// the readdir and stat calls.\n\t\t\t\t\t\t\t\t\t\treturn callback();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn callback(err);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (stat.isDirectory()) {\n\t\t\t\t\t\t\t\t\tif (!recursive) return callback();\n\t\t\t\t\t\t\t\t\taddSubDirectory(ctx, subResource, callback);\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tstat.isFile() &&\n\t\t\t\t\t\t\t\t\t(!include || subResource.match(include))\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\t\t\t\tcontext: ctx,\n\t\t\t\t\t\t\t\t\t\trequest:\n\t\t\t\t\t\t\t\t\t\t\t\".\" + subResource.slice(ctx.length).replace(/\\\\/g, \"/\")\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tthis.hooks.alternativeRequests.callAsync(\n\t\t\t\t\t\t\t\t\t\t[obj],\n\t\t\t\t\t\t\t\t\t\toptions,\n\t\t\t\t\t\t\t\t\t\t(err, alternatives) => {\n\t\t\t\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\t\t\t\talternatives = alternatives\n\t\t\t\t\t\t\t\t\t\t\t\t.filter(obj => regExp.test(obj.request))\n\t\t\t\t\t\t\t\t\t\t\t\t.map(obj => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst dep = new ContextElementDependency(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${obj.request}${resourceQuery}${resourceFragment}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tobj.request,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypePrefix,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcategory,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treferencedExports,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tobj.context\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tdep.optional = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn dep;\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tcallback(null, alternatives);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\t\tif (!result) return callback(null, []);\n\n\t\t\t\t\t\tconst flattenedResult = [];\n\n\t\t\t\t\t\tfor (const item of result) {\n\t\t\t\t\t\t\tif (item) flattenedResult.push(...item);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcallback(null, flattenedResult);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t};\n\n\t\tconst addSubDirectory = (ctx, dir, callback) =>\n\t\t\taddDirectory(ctx, dir, addSubDirectory, callback);\n\n\t\tconst visitResource = (resource, callback) => {\n\t\t\tif (typeof fs.realpath === \"function\") {\n\t\t\t\taddDirectoryChecked(resource, resource, new Set(), callback);\n\t\t\t} else {\n\t\t\t\taddDirectory(resource, resource, addSubDirectory, callback);\n\t\t\t}\n\t\t};\n\n\t\tif (typeof resource === \"string\") {\n\t\t\tvisitResource(resource, callback);\n\t\t} else {\n\t\t\tasyncLib.map(resource, visitResource, (err, result) => {\n\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t// result dependencies should have unique userRequest\n\t\t\t\t// ordered by resolve result\n\t\t\t\tconst temp = new Set();\n\t\t\t\tconst res = [];\n\t\t\t\tfor (let i = 0; i < result.length; i++) {\n\t\t\t\t\tconst inner = result[i];\n\t\t\t\t\tfor (const el of inner) {\n\t\t\t\t\t\tif (temp.has(el.userRequest)) continue;\n\t\t\t\t\t\tres.push(el);\n\t\t\t\t\t\ttemp.add(el.userRequest);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcallback(null, res);\n\t\t\t});\n\t\t}\n\t}\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}