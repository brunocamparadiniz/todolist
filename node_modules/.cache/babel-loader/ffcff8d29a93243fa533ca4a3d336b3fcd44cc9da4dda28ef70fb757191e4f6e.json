{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nvar _classCallCheck = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar binarySearchBounds = require(\"../util/binarySearchBounds\");\nvar ParallelismFactorCalculator = /*#__PURE__*/function () {\n  function ParallelismFactorCalculator() {\n    _classCallCheck(this, ParallelismFactorCalculator);\n    this._rangePoints = [];\n    this._rangeCallbacks = [];\n  }\n  _createClass(ParallelismFactorCalculator, [{\n    key: \"range\",\n    value: function range(start, end, callback) {\n      if (start === end) return callback(1);\n      this._rangePoints.push(start);\n      this._rangePoints.push(end);\n      this._rangeCallbacks.push(callback);\n    }\n  }, {\n    key: \"calculate\",\n    value: function calculate() {\n      var segments = Array.from(new Set(this._rangePoints)).sort(function (a, b) {\n        return a < b ? -1 : 1;\n      });\n      var parallelism = segments.map(function () {\n        return 0;\n      });\n      var rangeStartIndices = [];\n      for (var i = 0; i < this._rangePoints.length; i += 2) {\n        var start = this._rangePoints[i];\n        var end = this._rangePoints[i + 1];\n        var idx = binarySearchBounds.eq(segments, start);\n        rangeStartIndices.push(idx);\n        do {\n          parallelism[idx]++;\n          idx++;\n        } while (segments[idx] < end);\n      }\n      for (var _i = 0; _i < this._rangeCallbacks.length; _i++) {\n        var _start = this._rangePoints[_i * 2];\n        var _end = this._rangePoints[_i * 2 + 1];\n        var _idx = rangeStartIndices[_i];\n        var sum = 0;\n        var totalDuration = 0;\n        var current = _start;\n        do {\n          var p = parallelism[_idx];\n          _idx++;\n          var duration = segments[_idx] - current;\n          totalDuration += duration;\n          current = segments[_idx];\n          sum += p * duration;\n        } while (current < _end);\n        this._rangeCallbacks[_i](sum / totalDuration);\n      }\n    }\n  }]);\n  return ParallelismFactorCalculator;\n}();\nmodule.exports = ParallelismFactorCalculator;","map":{"version":3,"names":["binarySearchBounds","require","ParallelismFactorCalculator","_rangePoints","_rangeCallbacks","start","end","callback","push","segments","Array","from","Set","sort","a","b","parallelism","map","rangeStartIndices","i","length","idx","eq","sum","totalDuration","current","p","duration","module","exports"],"sources":["/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/webpack/lib/util/ParallelismFactorCalculator.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst binarySearchBounds = require(\"../util/binarySearchBounds\");\n\nclass ParallelismFactorCalculator {\n\tconstructor() {\n\t\tthis._rangePoints = [];\n\t\tthis._rangeCallbacks = [];\n\t}\n\n\trange(start, end, callback) {\n\t\tif (start === end) return callback(1);\n\t\tthis._rangePoints.push(start);\n\t\tthis._rangePoints.push(end);\n\t\tthis._rangeCallbacks.push(callback);\n\t}\n\n\tcalculate() {\n\t\tconst segments = Array.from(new Set(this._rangePoints)).sort((a, b) =>\n\t\t\ta < b ? -1 : 1\n\t\t);\n\t\tconst parallelism = segments.map(() => 0);\n\t\tconst rangeStartIndices = [];\n\t\tfor (let i = 0; i < this._rangePoints.length; i += 2) {\n\t\t\tconst start = this._rangePoints[i];\n\t\t\tconst end = this._rangePoints[i + 1];\n\t\t\tlet idx = binarySearchBounds.eq(segments, start);\n\t\t\trangeStartIndices.push(idx);\n\t\t\tdo {\n\t\t\t\tparallelism[idx]++;\n\t\t\t\tidx++;\n\t\t\t} while (segments[idx] < end);\n\t\t}\n\t\tfor (let i = 0; i < this._rangeCallbacks.length; i++) {\n\t\t\tconst start = this._rangePoints[i * 2];\n\t\t\tconst end = this._rangePoints[i * 2 + 1];\n\t\t\tlet idx = rangeStartIndices[i];\n\t\t\tlet sum = 0;\n\t\t\tlet totalDuration = 0;\n\t\t\tlet current = start;\n\t\t\tdo {\n\t\t\t\tconst p = parallelism[idx];\n\t\t\t\tidx++;\n\t\t\t\tconst duration = segments[idx] - current;\n\t\t\t\ttotalDuration += duration;\n\t\t\t\tcurrent = segments[idx];\n\t\t\t\tsum += p * duration;\n\t\t\t} while (current < end);\n\t\t\tthis._rangeCallbacks[i](sum / totalDuration);\n\t\t}\n\t}\n}\n\nmodule.exports = ParallelismFactorCalculator;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAAC;AAAA;AAEb,IAAMA,kBAAkB,GAAGC,OAAO,CAAC,4BAA4B,CAAC;AAAC,IAE3DC,2BAA2B;EAChC,uCAAc;IAAA;IACb,IAAI,CAACC,YAAY,GAAG,EAAE;IACtB,IAAI,CAACC,eAAe,GAAG,EAAE;EAC1B;EAAC;IAAA;IAAA,OAED,eAAMC,KAAK,EAAEC,GAAG,EAAEC,QAAQ,EAAE;MAC3B,IAAIF,KAAK,KAAKC,GAAG,EAAE,OAAOC,QAAQ,CAAC,CAAC,CAAC;MACrC,IAAI,CAACJ,YAAY,CAACK,IAAI,CAACH,KAAK,CAAC;MAC7B,IAAI,CAACF,YAAY,CAACK,IAAI,CAACF,GAAG,CAAC;MAC3B,IAAI,CAACF,eAAe,CAACI,IAAI,CAACD,QAAQ,CAAC;IACpC;EAAC;IAAA;IAAA,OAED,qBAAY;MACX,IAAME,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAAC,IAAI,CAACT,YAAY,CAAC,CAAC,CAACU,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;QAAA,OACjED,CAAC,GAAGC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;MAAA,EACd;MACD,IAAMC,WAAW,GAAGP,QAAQ,CAACQ,GAAG,CAAC;QAAA,OAAM,CAAC;MAAA,EAAC;MACzC,IAAMC,iBAAiB,GAAG,EAAE;MAC5B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAChB,YAAY,CAACiB,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;QACrD,IAAMd,KAAK,GAAG,IAAI,CAACF,YAAY,CAACgB,CAAC,CAAC;QAClC,IAAMb,GAAG,GAAG,IAAI,CAACH,YAAY,CAACgB,CAAC,GAAG,CAAC,CAAC;QACpC,IAAIE,GAAG,GAAGrB,kBAAkB,CAACsB,EAAE,CAACb,QAAQ,EAAEJ,KAAK,CAAC;QAChDa,iBAAiB,CAACV,IAAI,CAACa,GAAG,CAAC;QAC3B,GAAG;UACFL,WAAW,CAACK,GAAG,CAAC,EAAE;UAClBA,GAAG,EAAE;QACN,CAAC,QAAQZ,QAAQ,CAACY,GAAG,CAAC,GAAGf,GAAG;MAC7B;MACA,KAAK,IAAIa,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAG,IAAI,CAACf,eAAe,CAACgB,MAAM,EAAED,EAAC,EAAE,EAAE;QACrD,IAAMd,MAAK,GAAG,IAAI,CAACF,YAAY,CAACgB,EAAC,GAAG,CAAC,CAAC;QACtC,IAAMb,IAAG,GAAG,IAAI,CAACH,YAAY,CAACgB,EAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxC,IAAIE,IAAG,GAAGH,iBAAiB,CAACC,EAAC,CAAC;QAC9B,IAAII,GAAG,GAAG,CAAC;QACX,IAAIC,aAAa,GAAG,CAAC;QACrB,IAAIC,OAAO,GAAGpB,MAAK;QACnB,GAAG;UACF,IAAMqB,CAAC,GAAGV,WAAW,CAACK,IAAG,CAAC;UAC1BA,IAAG,EAAE;UACL,IAAMM,QAAQ,GAAGlB,QAAQ,CAACY,IAAG,CAAC,GAAGI,OAAO;UACxCD,aAAa,IAAIG,QAAQ;UACzBF,OAAO,GAAGhB,QAAQ,CAACY,IAAG,CAAC;UACvBE,GAAG,IAAIG,CAAC,GAAGC,QAAQ;QACpB,CAAC,QAAQF,OAAO,GAAGnB,IAAG;QACtB,IAAI,CAACF,eAAe,CAACe,EAAC,CAAC,CAACI,GAAG,GAAGC,aAAa,CAAC;MAC7C;IACD;EAAC;EAAA;AAAA;AAGFI,MAAM,CAACC,OAAO,GAAG3B,2BAA2B"},"metadata":{},"sourceType":"script","externalDependencies":[]}