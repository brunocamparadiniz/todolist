{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _objectSpread = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _slicedToArray = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _classCallCheck = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar ModuleNotFoundError = require(\"../ModuleNotFoundError\");\nvar RuntimeGlobals = require(\"../RuntimeGlobals\");\nvar WebpackError = require(\"../WebpackError\");\nvar _require = require(\"../container/options\"),\n  parseOptions = _require.parseOptions;\nvar LazySet = require(\"../util/LazySet\");\nvar createSchemaValidation = require(\"../util/create-schema-validation\");\nvar _require2 = require(\"../util/semver\"),\n  parseRange = _require2.parseRange;\nvar ConsumeSharedFallbackDependency = require(\"./ConsumeSharedFallbackDependency\");\nvar ConsumeSharedModule = require(\"./ConsumeSharedModule\");\nvar ConsumeSharedRuntimeModule = require(\"./ConsumeSharedRuntimeModule\");\nvar ProvideForSharedDependency = require(\"./ProvideForSharedDependency\");\nvar _require3 = require(\"./resolveMatchedConfigs\"),\n  resolveMatchedConfigs = _require3.resolveMatchedConfigs;\nvar _require4 = require(\"./utils\"),\n  isRequiredVersion = _require4.isRequiredVersion,\n  getDescriptionFile = _require4.getDescriptionFile,\n  getRequiredVersionFromDescriptionFile = _require4.getRequiredVersionFromDescriptionFile;\n\n/** @typedef {import(\"../../declarations/plugins/sharing/ConsumeSharedPlugin\").ConsumeSharedPluginOptions} ConsumeSharedPluginOptions */\n/** @typedef {import(\"../../declarations/plugins/sharing/ConsumeSharedPlugin\").ConsumesConfig} ConsumesConfig */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../ResolverFactory\").ResolveOptionsWithDependencyType} ResolveOptionsWithDependencyType */\n/** @typedef {import(\"./ConsumeSharedModule\").ConsumeOptions} ConsumeOptions */\n\nvar validate = createSchemaValidation(require(\"../../schemas/plugins/sharing/ConsumeSharedPlugin.check.js\"), function () {\n  return require(\"../../schemas/plugins/sharing/ConsumeSharedPlugin.json\");\n}, {\n  name: \"Consume Shared Plugin\",\n  baseDataPath: \"options\"\n});\n\n/** @type {ResolveOptionsWithDependencyType} */\nvar RESOLVE_OPTIONS = {\n  dependencyType: \"esm\"\n};\nvar PLUGIN_NAME = \"ConsumeSharedPlugin\";\nvar ConsumeSharedPlugin = /*#__PURE__*/function () {\n  /**\n   * @param {ConsumeSharedPluginOptions} options options\n   */\n  function ConsumeSharedPlugin(options) {\n    _classCallCheck(this, ConsumeSharedPlugin);\n    if (typeof options !== \"string\") {\n      validate(options);\n    }\n\n    /** @type {[string, ConsumeOptions][]} */\n    this._consumes = parseOptions(options.consumes, function (item, key) {\n      if (Array.isArray(item)) throw new Error(\"Unexpected array in options\");\n      /** @type {ConsumeOptions} */\n      var result = item === key || !isRequiredVersion(item) ?\n      // item is a request/key\n      {\n        import: key,\n        shareScope: options.shareScope || \"default\",\n        shareKey: key,\n        requiredVersion: undefined,\n        packageName: undefined,\n        strictVersion: false,\n        singleton: false,\n        eager: false\n      } :\n      // key is a request/key\n      // item is a version\n      {\n        import: key,\n        shareScope: options.shareScope || \"default\",\n        shareKey: key,\n        requiredVersion: parseRange(item),\n        strictVersion: true,\n        packageName: undefined,\n        singleton: false,\n        eager: false\n      };\n      return result;\n    }, function (item, key) {\n      return {\n        import: item.import === false ? undefined : item.import || key,\n        shareScope: item.shareScope || options.shareScope || \"default\",\n        shareKey: item.shareKey || key,\n        requiredVersion: typeof item.requiredVersion === \"string\" ? parseRange(item.requiredVersion) : item.requiredVersion,\n        strictVersion: typeof item.strictVersion === \"boolean\" ? item.strictVersion : item.import !== false && !item.singleton,\n        packageName: item.packageName,\n        singleton: !!item.singleton,\n        eager: !!item.eager\n      };\n    });\n  }\n\n  /**\n   * Apply the plugin\n   * @param {Compiler} compiler the compiler instance\n   * @returns {void}\n   */\n  _createClass(ConsumeSharedPlugin, [{\n    key: \"apply\",\n    value: function apply(compiler) {\n      var _this = this;\n      compiler.hooks.thisCompilation.tap(PLUGIN_NAME, function (compilation, _ref) {\n        var normalModuleFactory = _ref.normalModuleFactory;\n        compilation.dependencyFactories.set(ConsumeSharedFallbackDependency, normalModuleFactory);\n        var unresolvedConsumes, resolvedConsumes, prefixedConsumes;\n        var promise = resolveMatchedConfigs(compilation, _this._consumes).then(function (_ref2) {\n          var resolved = _ref2.resolved,\n            unresolved = _ref2.unresolved,\n            prefixed = _ref2.prefixed;\n          resolvedConsumes = resolved;\n          unresolvedConsumes = unresolved;\n          prefixedConsumes = prefixed;\n        });\n        var resolver = compilation.resolverFactory.get(\"normal\", RESOLVE_OPTIONS);\n\n        /**\n         * @param {string} context issuer directory\n         * @param {string} request request\n         * @param {ConsumeOptions} config options\n         * @returns {Promise<ConsumeSharedModule>} create module\n         */\n        var createConsumeSharedModule = function createConsumeSharedModule(context, request, config) {\n          var requiredVersionWarning = function requiredVersionWarning(details) {\n            var error = new WebpackError(\"No required version specified and unable to automatically determine one. \".concat(details));\n            error.file = \"shared module \".concat(request);\n            compilation.warnings.push(error);\n          };\n          var directFallback = config.import && /^(\\.\\.?(\\/|$)|\\/|[A-Za-z]:|\\\\\\\\)/.test(config.import);\n          return Promise.all([new Promise(function (resolve) {\n            if (!config.import) return resolve();\n            var resolveContext = {\n              /** @type {LazySet<string>} */\n              fileDependencies: new LazySet(),\n              /** @type {LazySet<string>} */\n              contextDependencies: new LazySet(),\n              /** @type {LazySet<string>} */\n              missingDependencies: new LazySet()\n            };\n            resolver.resolve({}, directFallback ? compiler.context : context, config.import, resolveContext, function (err, result) {\n              compilation.contextDependencies.addAll(resolveContext.contextDependencies);\n              compilation.fileDependencies.addAll(resolveContext.fileDependencies);\n              compilation.missingDependencies.addAll(resolveContext.missingDependencies);\n              if (err) {\n                compilation.errors.push(new ModuleNotFoundError(null, err, {\n                  name: \"resolving fallback for shared module \".concat(request)\n                }));\n                return resolve();\n              }\n              resolve(result);\n            });\n          }), new Promise(function (resolve) {\n            if (config.requiredVersion !== undefined) return resolve(config.requiredVersion);\n            var packageName = config.packageName;\n            if (packageName === undefined) {\n              if (/^(\\/|[A-Za-z]:|\\\\\\\\)/.test(request)) {\n                // For relative or absolute requests we don't automatically use a packageName.\n                // If wished one can specify one with the packageName option.\n                return resolve();\n              }\n              var match = /^((?:@[^\\\\/]+[\\\\/])?[^\\\\/]+)/.exec(request);\n              if (!match) {\n                requiredVersionWarning(\"Unable to extract the package name from request.\");\n                return resolve();\n              }\n              packageName = match[0];\n            }\n            getDescriptionFile(compilation.inputFileSystem, context, [\"package.json\"], function (err, result) {\n              if (err) {\n                requiredVersionWarning(\"Unable to read description file: \".concat(err));\n                return resolve();\n              }\n              var data = result.data,\n                descriptionPath = result.path;\n              if (!data) {\n                requiredVersionWarning(\"Unable to find description file in \".concat(context, \".\"));\n                return resolve();\n              }\n              var requiredVersion = getRequiredVersionFromDescriptionFile(data, packageName);\n              if (typeof requiredVersion !== \"string\") {\n                requiredVersionWarning(\"Unable to find required version for \\\"\".concat(packageName, \"\\\" in description file (\").concat(descriptionPath, \"). It need to be in dependencies, devDependencies or peerDependencies.\"));\n                return resolve();\n              }\n              resolve(parseRange(requiredVersion));\n            });\n          })]).then(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n              importResolved = _ref4[0],\n              requiredVersion = _ref4[1];\n            return new ConsumeSharedModule(directFallback ? compiler.context : context, _objectSpread(_objectSpread({}, config), {}, {\n              importResolved: importResolved,\n              import: importResolved ? config.import : undefined,\n              requiredVersion: requiredVersion\n            }));\n          });\n        };\n        normalModuleFactory.hooks.factorize.tapPromise(PLUGIN_NAME, function (_ref5) {\n          var context = _ref5.context,\n            request = _ref5.request,\n            dependencies = _ref5.dependencies;\n          return (\n            // wait for resolving to be complete\n            promise.then(function () {\n              if (dependencies[0] instanceof ConsumeSharedFallbackDependency || dependencies[0] instanceof ProvideForSharedDependency) {\n                return;\n              }\n              var match = unresolvedConsumes.get(request);\n              if (match !== undefined) {\n                return createConsumeSharedModule(context, request, match);\n              }\n              var _iterator = _createForOfIteratorHelper(prefixedConsumes),\n                _step;\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  var _step$value = _slicedToArray(_step.value, 2),\n                    prefix = _step$value[0],\n                    options = _step$value[1];\n                  if (request.startsWith(prefix)) {\n                    var remainder = request.slice(prefix.length);\n                    return createConsumeSharedModule(context, request, _objectSpread(_objectSpread({}, options), {}, {\n                      import: options.import ? options.import + remainder : undefined,\n                      shareKey: options.shareKey + remainder\n                    }));\n                  }\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n            })\n          );\n        });\n        normalModuleFactory.hooks.createModule.tapPromise(PLUGIN_NAME, function (_ref6, _ref7) {\n          var resource = _ref6.resource;\n          var context = _ref7.context,\n            dependencies = _ref7.dependencies;\n          if (dependencies[0] instanceof ConsumeSharedFallbackDependency || dependencies[0] instanceof ProvideForSharedDependency) {\n            return Promise.resolve();\n          }\n          var options = resolvedConsumes.get(resource);\n          if (options !== undefined) {\n            return createConsumeSharedModule(context, resource, options);\n          }\n          return Promise.resolve();\n        });\n        compilation.hooks.additionalTreeRuntimeRequirements.tap(PLUGIN_NAME, function (chunk, set) {\n          set.add(RuntimeGlobals.module);\n          set.add(RuntimeGlobals.moduleCache);\n          set.add(RuntimeGlobals.moduleFactoriesAddOnly);\n          set.add(RuntimeGlobals.shareScopeMap);\n          set.add(RuntimeGlobals.initializeSharing);\n          set.add(RuntimeGlobals.hasOwnProperty);\n          compilation.addRuntimeModule(chunk, new ConsumeSharedRuntimeModule(set));\n        });\n      });\n    }\n  }]);\n  return ConsumeSharedPlugin;\n}();\nmodule.exports = ConsumeSharedPlugin;","map":{"version":3,"names":["ModuleNotFoundError","require","RuntimeGlobals","WebpackError","parseOptions","LazySet","createSchemaValidation","parseRange","ConsumeSharedFallbackDependency","ConsumeSharedModule","ConsumeSharedRuntimeModule","ProvideForSharedDependency","resolveMatchedConfigs","isRequiredVersion","getDescriptionFile","getRequiredVersionFromDescriptionFile","validate","name","baseDataPath","RESOLVE_OPTIONS","dependencyType","PLUGIN_NAME","ConsumeSharedPlugin","options","_consumes","consumes","item","key","Array","isArray","Error","result","import","shareScope","shareKey","requiredVersion","undefined","packageName","strictVersion","singleton","eager","compiler","hooks","thisCompilation","tap","compilation","normalModuleFactory","dependencyFactories","set","unresolvedConsumes","resolvedConsumes","prefixedConsumes","promise","then","resolved","unresolved","prefixed","resolver","resolverFactory","get","createConsumeSharedModule","context","request","config","requiredVersionWarning","details","error","file","warnings","push","directFallback","test","Promise","all","resolve","resolveContext","fileDependencies","contextDependencies","missingDependencies","err","addAll","errors","match","exec","inputFileSystem","data","descriptionPath","path","importResolved","factorize","tapPromise","dependencies","prefix","startsWith","remainder","slice","length","createModule","resource","additionalTreeRuntimeRequirements","chunk","add","module","moduleCache","moduleFactoriesAddOnly","shareScopeMap","initializeSharing","hasOwnProperty","addRuntimeModule","exports"],"sources":["/Users/brunocamparadiniz/Desktop/coding/BC-AY/react/todolist/node_modules/webpack/lib/sharing/ConsumeSharedPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst ModuleNotFoundError = require(\"../ModuleNotFoundError\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst WebpackError = require(\"../WebpackError\");\nconst { parseOptions } = require(\"../container/options\");\nconst LazySet = require(\"../util/LazySet\");\nconst createSchemaValidation = require(\"../util/create-schema-validation\");\nconst { parseRange } = require(\"../util/semver\");\nconst ConsumeSharedFallbackDependency = require(\"./ConsumeSharedFallbackDependency\");\nconst ConsumeSharedModule = require(\"./ConsumeSharedModule\");\nconst ConsumeSharedRuntimeModule = require(\"./ConsumeSharedRuntimeModule\");\nconst ProvideForSharedDependency = require(\"./ProvideForSharedDependency\");\nconst { resolveMatchedConfigs } = require(\"./resolveMatchedConfigs\");\nconst {\n\tisRequiredVersion,\n\tgetDescriptionFile,\n\tgetRequiredVersionFromDescriptionFile\n} = require(\"./utils\");\n\n/** @typedef {import(\"../../declarations/plugins/sharing/ConsumeSharedPlugin\").ConsumeSharedPluginOptions} ConsumeSharedPluginOptions */\n/** @typedef {import(\"../../declarations/plugins/sharing/ConsumeSharedPlugin\").ConsumesConfig} ConsumesConfig */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../ResolverFactory\").ResolveOptionsWithDependencyType} ResolveOptionsWithDependencyType */\n/** @typedef {import(\"./ConsumeSharedModule\").ConsumeOptions} ConsumeOptions */\n\nconst validate = createSchemaValidation(\n\trequire(\"../../schemas/plugins/sharing/ConsumeSharedPlugin.check.js\"),\n\t() => require(\"../../schemas/plugins/sharing/ConsumeSharedPlugin.json\"),\n\t{\n\t\tname: \"Consume Shared Plugin\",\n\t\tbaseDataPath: \"options\"\n\t}\n);\n\n/** @type {ResolveOptionsWithDependencyType} */\nconst RESOLVE_OPTIONS = { dependencyType: \"esm\" };\nconst PLUGIN_NAME = \"ConsumeSharedPlugin\";\n\nclass ConsumeSharedPlugin {\n\t/**\n\t * @param {ConsumeSharedPluginOptions} options options\n\t */\n\tconstructor(options) {\n\t\tif (typeof options !== \"string\") {\n\t\t\tvalidate(options);\n\t\t}\n\n\t\t/** @type {[string, ConsumeOptions][]} */\n\t\tthis._consumes = parseOptions(\n\t\t\toptions.consumes,\n\t\t\t(item, key) => {\n\t\t\t\tif (Array.isArray(item)) throw new Error(\"Unexpected array in options\");\n\t\t\t\t/** @type {ConsumeOptions} */\n\t\t\t\tlet result =\n\t\t\t\t\titem === key || !isRequiredVersion(item)\n\t\t\t\t\t\t? // item is a request/key\n\t\t\t\t\t\t  {\n\t\t\t\t\t\t\t\timport: key,\n\t\t\t\t\t\t\t\tshareScope: options.shareScope || \"default\",\n\t\t\t\t\t\t\t\tshareKey: key,\n\t\t\t\t\t\t\t\trequiredVersion: undefined,\n\t\t\t\t\t\t\t\tpackageName: undefined,\n\t\t\t\t\t\t\t\tstrictVersion: false,\n\t\t\t\t\t\t\t\tsingleton: false,\n\t\t\t\t\t\t\t\teager: false\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: // key is a request/key\n\t\t\t\t\t\t  // item is a version\n\t\t\t\t\t\t  {\n\t\t\t\t\t\t\t\timport: key,\n\t\t\t\t\t\t\t\tshareScope: options.shareScope || \"default\",\n\t\t\t\t\t\t\t\tshareKey: key,\n\t\t\t\t\t\t\t\trequiredVersion: parseRange(item),\n\t\t\t\t\t\t\t\tstrictVersion: true,\n\t\t\t\t\t\t\t\tpackageName: undefined,\n\t\t\t\t\t\t\t\tsingleton: false,\n\t\t\t\t\t\t\t\teager: false\n\t\t\t\t\t\t  };\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t(item, key) => ({\n\t\t\t\timport: item.import === false ? undefined : item.import || key,\n\t\t\t\tshareScope: item.shareScope || options.shareScope || \"default\",\n\t\t\t\tshareKey: item.shareKey || key,\n\t\t\t\trequiredVersion:\n\t\t\t\t\ttypeof item.requiredVersion === \"string\"\n\t\t\t\t\t\t? parseRange(item.requiredVersion)\n\t\t\t\t\t\t: item.requiredVersion,\n\t\t\t\tstrictVersion:\n\t\t\t\t\ttypeof item.strictVersion === \"boolean\"\n\t\t\t\t\t\t? item.strictVersion\n\t\t\t\t\t\t: item.import !== false && !item.singleton,\n\t\t\t\tpackageName: item.packageName,\n\t\t\t\tsingleton: !!item.singleton,\n\t\t\t\teager: !!item.eager\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * Apply the plugin\n\t * @param {Compiler} compiler the compiler instance\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\tcompiler.hooks.thisCompilation.tap(\n\t\t\tPLUGIN_NAME,\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tConsumeSharedFallbackDependency,\n\t\t\t\t\tnormalModuleFactory\n\t\t\t\t);\n\n\t\t\t\tlet unresolvedConsumes, resolvedConsumes, prefixedConsumes;\n\t\t\t\tconst promise = resolveMatchedConfigs(compilation, this._consumes).then(\n\t\t\t\t\t({ resolved, unresolved, prefixed }) => {\n\t\t\t\t\t\tresolvedConsumes = resolved;\n\t\t\t\t\t\tunresolvedConsumes = unresolved;\n\t\t\t\t\t\tprefixedConsumes = prefixed;\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tconst resolver = compilation.resolverFactory.get(\n\t\t\t\t\t\"normal\",\n\t\t\t\t\tRESOLVE_OPTIONS\n\t\t\t\t);\n\n\t\t\t\t/**\n\t\t\t\t * @param {string} context issuer directory\n\t\t\t\t * @param {string} request request\n\t\t\t\t * @param {ConsumeOptions} config options\n\t\t\t\t * @returns {Promise<ConsumeSharedModule>} create module\n\t\t\t\t */\n\t\t\t\tconst createConsumeSharedModule = (context, request, config) => {\n\t\t\t\t\tconst requiredVersionWarning = details => {\n\t\t\t\t\t\tconst error = new WebpackError(\n\t\t\t\t\t\t\t`No required version specified and unable to automatically determine one. ${details}`\n\t\t\t\t\t\t);\n\t\t\t\t\t\terror.file = `shared module ${request}`;\n\t\t\t\t\t\tcompilation.warnings.push(error);\n\t\t\t\t\t};\n\t\t\t\t\tconst directFallback =\n\t\t\t\t\t\tconfig.import &&\n\t\t\t\t\t\t/^(\\.\\.?(\\/|$)|\\/|[A-Za-z]:|\\\\\\\\)/.test(config.import);\n\t\t\t\t\treturn Promise.all([\n\t\t\t\t\t\tnew Promise(resolve => {\n\t\t\t\t\t\t\tif (!config.import) return resolve();\n\t\t\t\t\t\t\tconst resolveContext = {\n\t\t\t\t\t\t\t\t/** @type {LazySet<string>} */\n\t\t\t\t\t\t\t\tfileDependencies: new LazySet(),\n\t\t\t\t\t\t\t\t/** @type {LazySet<string>} */\n\t\t\t\t\t\t\t\tcontextDependencies: new LazySet(),\n\t\t\t\t\t\t\t\t/** @type {LazySet<string>} */\n\t\t\t\t\t\t\t\tmissingDependencies: new LazySet()\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tresolver.resolve(\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\tdirectFallback ? compiler.context : context,\n\t\t\t\t\t\t\t\tconfig.import,\n\t\t\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\t\t\t\tcompilation.contextDependencies.addAll(\n\t\t\t\t\t\t\t\t\t\tresolveContext.contextDependencies\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tcompilation.fileDependencies.addAll(\n\t\t\t\t\t\t\t\t\t\tresolveContext.fileDependencies\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tcompilation.missingDependencies.addAll(\n\t\t\t\t\t\t\t\t\t\tresolveContext.missingDependencies\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\t\t\tcompilation.errors.push(\n\t\t\t\t\t\t\t\t\t\t\tnew ModuleNotFoundError(null, err, {\n\t\t\t\t\t\t\t\t\t\t\t\tname: `resolving fallback for shared module ${request}`\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Promise(resolve => {\n\t\t\t\t\t\t\tif (config.requiredVersion !== undefined)\n\t\t\t\t\t\t\t\treturn resolve(config.requiredVersion);\n\t\t\t\t\t\t\tlet packageName = config.packageName;\n\t\t\t\t\t\t\tif (packageName === undefined) {\n\t\t\t\t\t\t\t\tif (/^(\\/|[A-Za-z]:|\\\\\\\\)/.test(request)) {\n\t\t\t\t\t\t\t\t\t// For relative or absolute requests we don't automatically use a packageName.\n\t\t\t\t\t\t\t\t\t// If wished one can specify one with the packageName option.\n\t\t\t\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst match = /^((?:@[^\\\\/]+[\\\\/])?[^\\\\/]+)/.exec(request);\n\t\t\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\t\t\trequiredVersionWarning(\n\t\t\t\t\t\t\t\t\t\t\"Unable to extract the package name from request.\"\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpackageName = match[0];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tgetDescriptionFile(\n\t\t\t\t\t\t\t\tcompilation.inputFileSystem,\n\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\t[\"package.json\"],\n\t\t\t\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\t\t\trequiredVersionWarning(\n\t\t\t\t\t\t\t\t\t\t\t`Unable to read description file: ${err}`\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst { data, path: descriptionPath } = result;\n\t\t\t\t\t\t\t\t\tif (!data) {\n\t\t\t\t\t\t\t\t\t\trequiredVersionWarning(\n\t\t\t\t\t\t\t\t\t\t\t`Unable to find description file in ${context}.`\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst requiredVersion = getRequiredVersionFromDescriptionFile(\n\t\t\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t\t\tpackageName\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tif (typeof requiredVersion !== \"string\") {\n\t\t\t\t\t\t\t\t\t\trequiredVersionWarning(\n\t\t\t\t\t\t\t\t\t\t\t`Unable to find required version for \"${packageName}\" in description file (${descriptionPath}). It need to be in dependencies, devDependencies or peerDependencies.`\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tresolve(parseRange(requiredVersion));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t]).then(([importResolved, requiredVersion]) => {\n\t\t\t\t\t\treturn new ConsumeSharedModule(\n\t\t\t\t\t\t\tdirectFallback ? compiler.context : context,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...config,\n\t\t\t\t\t\t\t\timportResolved,\n\t\t\t\t\t\t\t\timport: importResolved ? config.import : undefined,\n\t\t\t\t\t\t\t\trequiredVersion\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tnormalModuleFactory.hooks.factorize.tapPromise(\n\t\t\t\t\tPLUGIN_NAME,\n\t\t\t\t\t({ context, request, dependencies }) =>\n\t\t\t\t\t\t// wait for resolving to be complete\n\t\t\t\t\t\tpromise.then(() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tdependencies[0] instanceof ConsumeSharedFallbackDependency ||\n\t\t\t\t\t\t\t\tdependencies[0] instanceof ProvideForSharedDependency\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst match = unresolvedConsumes.get(request);\n\t\t\t\t\t\t\tif (match !== undefined) {\n\t\t\t\t\t\t\t\treturn createConsumeSharedModule(context, request, match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (const [prefix, options] of prefixedConsumes) {\n\t\t\t\t\t\t\t\tif (request.startsWith(prefix)) {\n\t\t\t\t\t\t\t\t\tconst remainder = request.slice(prefix.length);\n\t\t\t\t\t\t\t\t\treturn createConsumeSharedModule(context, request, {\n\t\t\t\t\t\t\t\t\t\t...options,\n\t\t\t\t\t\t\t\t\t\timport: options.import\n\t\t\t\t\t\t\t\t\t\t\t? options.import + remainder\n\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t\tshareKey: options.shareKey + remainder\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tnormalModuleFactory.hooks.createModule.tapPromise(\n\t\t\t\t\tPLUGIN_NAME,\n\t\t\t\t\t({ resource }, { context, dependencies }) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tdependencies[0] instanceof ConsumeSharedFallbackDependency ||\n\t\t\t\t\t\t\tdependencies[0] instanceof ProvideForSharedDependency\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst options = resolvedConsumes.get(resource);\n\t\t\t\t\t\tif (options !== undefined) {\n\t\t\t\t\t\t\treturn createConsumeSharedModule(context, resource, options);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tcompilation.hooks.additionalTreeRuntimeRequirements.tap(\n\t\t\t\t\tPLUGIN_NAME,\n\t\t\t\t\t(chunk, set) => {\n\t\t\t\t\t\tset.add(RuntimeGlobals.module);\n\t\t\t\t\t\tset.add(RuntimeGlobals.moduleCache);\n\t\t\t\t\t\tset.add(RuntimeGlobals.moduleFactoriesAddOnly);\n\t\t\t\t\t\tset.add(RuntimeGlobals.shareScopeMap);\n\t\t\t\t\t\tset.add(RuntimeGlobals.initializeSharing);\n\t\t\t\t\t\tset.add(RuntimeGlobals.hasOwnProperty);\n\t\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\tnew ConsumeSharedRuntimeModule(set)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t}\n}\n\nmodule.exports = ConsumeSharedPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}